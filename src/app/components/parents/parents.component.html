<div class="container-fluid" ng-controller="AppCtrl">
    
    <div class="alert alert-info loading text-center " ng-show="users.length==0">Parent List</div>
    <div class="panel panel-info">
      <div class="panel-heading">
        
        <span class="badge pull-right text-black">Total Users : {{list.length}}</span>
      </div>
      <div class="panel-body">
        <div class="row col-sm-12">
          <!-- <div class="pull-left col-sm-6">Ordered by : <span class="badge">{{sort | uppercase}}{{sort? (reverse?' - Descending':' - Ascending'):'None'}}</span>
          </div> -->
          <div class="">
            <span class=" block"><span>Search </span>
            <input class="w-100 mt-10 pb-10" type="text" class="form-control" [(ngModel)]="search" placeholder="Enter To Search " (keyup)='onChange()'/></span>
            
            <!-- <span ng-show="search.lastName">Last Name =<span class="badge">{{search.lastName}}</span>
            </span>
            <span ng-show="search.email">Email =<span class="badge">{{search.email}}</span>
            </span> -->
          </div>
        </div>
        <table class="table table-striped table-bordered" *ngIf="list.length!=0">
          <thead>
            <!-- <tr>
              <th>
                
              </th>
              <th>
                <input type="text" class="form-control" [(ngModel)]="search.lastName" placeholder="Filter by Last Name" />
              </th>
              <th>
                <input type="text" class="form-control" [(ngModel)]="search.email" placeholder="Filter by Email" />
              </th>
              <th></th>
            </tr> -->
            <tr>
                <!-- ng-show="sort==='email' && reverse" -->
              <th  class="col-1 " >ID<span class="pull-right arrow-up" ></span>
                <span class="pull-right arrow-down" ></span>
              </th>
              <th  class="col-3 w-0">Parent Name<span class="pull-right arrow-up" ></span>
                <span class="pull-right arrow-down" ></span>
              </th>
              <th class="col-2 ">Student ID<span class="pull-right arrow-up" ></span>
                <span class="pull-right arrow-down" ></span>
              </th>
              <th  class="col-3"> Student Name<span class="pull-right arrow-up" ></span>
                <span class="pull-right arrow-down" ></span>
              </th>
              
              <th class="col-2">Action</th>
            </tr>
          </thead>
          
          <tbody>
            <!-- ng-repeat="user in users | filter:search | orderBy:sort:reverse | startFrom:currentPage*selectedPageSize | limitTo:selectedPageSize track by $index" -->
            <!-- <tr [formGroup]="form">
            
                    
                        <td class="h-100"></td>
                        
                        <td><input  class="col-2  w-100 form-control" formControlName="name" type="text"></td>
                        <td><input  class="col-1  w-100 form-control" formControlName="student_Id" type="text"></td>
                        <td></td>
                        
                        <td> 
                          <button type="button" class="btn btn-success p-0"  (click)="addUser()">Add</button>
                          <button type="button" class="btn btn-warning p-0"  (click)="clear()">Clear</button>
                            </td>
                    
            
            </tr> -->
                            <!-- <input type="text" name="id" *ngIf="item.edit" class="form-control p-0" [(ngModel)]="user._id" placeholder="item.user.user._id" [value]=(item.user.user._id) required="" /> -->

            <tr *ngFor=" let item of list, index as index" class="mb-sm-10">
              <td (click)="editDisplay(index)" class="p-0" >
                <span >{{item.user.user._id}}</span>
              </td>
              
              <td (click)="editDisplay(index)">
                <span *ngIf="!item.edit">{{item.user.user._name}}</span>
                <input type="text" *ngIf="item.edit" name="name" class="form-control" [(ngModel)]="item.user.user._name" [(value)]="item.user.user._name" placeholder="Name" required="" />
              </td>
              <td (click)="editDisplay(index)">
                <span *ngIf="!item.edit">{{item.user.id_student}}</span>
                <input type="text" *ngIf="item.edit" name="id_student" class="form-control" [(ngModel)]="item.user.id_student" [value]="(item.user.id_student)" placeholder="ID" required="" />
              </td>
              <td (click)="editDisplay(index)">
                <span *ngIf="!item.edit">{{item.user.name_student }}</span>
                <input type="text" *ngIf="item.edit" name="userName" class="form-control"  [(ngModel)]="item.user.name_student" [value]="(item.user.name_student)"  placeholder="Username" required="" />
              </td>
              
              <td>
                <button type="button" class="btn btn-primary p-0" *ngIf="!item.edit" (click)="editUser(index)">Edit</button>
                <button type="button" class="btn btn-danger p-0" *ngIf="!item.edit" (click)="deleteUser(item.user.user._id,index)">Delete</button>
                <button type="button" class="btn btn-success p-0" *ngIf="item.edit" (click)="updateUser(item.user.user._id, index)">Update</button>
                <button type="button" class="btn btn-warning p-0" *ngIf="item.edit" (click)="cancelUser(index)">Cancel</button>

                
              </td>
            </tr>
          </tbody>
        </table>
        
      </div>
    </div>
  </div>
